{# ðŸŒ–ðŸŒ– Copyright Monwoo 2023 ðŸŒ–ðŸŒ–, build by Miguel Monwoo (service@monwoo.com) #}
{% extends '@MoonManager/base.html.twig' %}

{% block title %}Search offers
{% endblock %}

{% block body %}
  {# TODO : subpath controller give hard debug time since components have same
	name as the moon-manager-ux package one, all debug link go to wrong file... #}
	<div class="mws-offer-lookup" {{ svelte_component('Mws/Offer/Lookup', {
		'copyright': 'mws.copyright'|trans({}, 'mws-moon-manager'),
		'locale': app.locale,
        'offers': offers|serialize('json')|e('html_attr'),
        'offersPaginator': block('offersPaginator'),
		'lookup': lookupForm.vars.value|serialize('json')|e('html_attr'),
		'lookupForm': (form_start(lookupForm, { 'attr' : {
            'class': 'd-flex flex-wrap mws-survey-js-form'
        } }) ~ form_widget(lookupForm)
		~ form_end(lookupForm))|e('html_attr'),
		'viewTemplate' : viewTemplate,
	} ) }}>
        {{ block('header') }}
        {% block offersPaginator %}
			<div class="count">
					[ {{ offers.getTotalItemCount }} Ã©lÃ©ments]
			</div>
			<div class="navigation">
					{{ knp_pagination_render(offers) }}
			</div>
		{% endblock %}
        {{ block('content') }}
        {{ block('footer') }}
	</div>
{% endblock %}
