{# ðŸŒ–ðŸŒ– Copyright Monwoo 2023 ðŸŒ–ðŸŒ–, build by Miguel Monwoo (service@monwoo.com) #}
{% extends '@MoonManager/base.html.twig' %}

{% block title %}Offers tags{% endblock %}

{% block body %}
  {# TODO : subpath controller give hard debug time since components have same
	name as the moon-manager-ux package one, all debug link go to wrong file... #}
	<div class="mws-offer-lookup" {{ svelte_component('MwsOfferTags', {
		'copyright': 'mws.copyright'|trans({}, 'mws-moon-manager'),
		'locale': app.locale,
		'tags': tags|serialize('json')|e('html_attr'),
		'tagsPaginator': block('tagsPaginator'),
		'tagsHeaders': {
			'slug' : knp_pagination_sortable(tags, 'Slug', 't.slug'),
			'label' : knp_pagination_sortable(tags, 'LibellÃ©', 't.label'),
		}|serialize('json')|e('html_attr'),
		'filters': filtersForm.vars.value|serialize('json')|e('html_attr'),
		'filtersForm': (form_start(filtersForm, { 'attr' : {
            'class': 'd-flex flex-wrap mws-survey-js-form'
        } }) ~ form_widget(filtersForm)
		~ form_end(filtersForm))|e('html_attr'),
		'viewTemplate' : viewTemplate,
	} ) }}>
        {{ block('header') }}
        {% block content %}
					{% block tagsPaginator %}
						<div class="count">
								[ {{ tags.getTotalItemCount }} Ã©lÃ©ments]
						</div>
						<div class="navigation">
								{{ knp_pagination_render(tags) }}
						</div>
					{% endblock %}
				{% endblock %}
        {{ block('footer') }}
	</div>
{% endblock %}
